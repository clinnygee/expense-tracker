{"ast":null,"code":"var _jsxFileName = \"/home/clinnygee/Documents/portfolio-projects/expense-tracker/client/src/Components/App/MainAppContainer.js\";\nimport React, { Component } from 'react';\nimport SideBar from './Navigation/sidebar';\nimport MainAppContent from './MainAppContent/MainAppContent';\nimport './mainappcontainer.css';\nimport { UserConsumer } from '../../user-context';\n\nclass MainAppContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      transactions: null\n    };\n\n    this.componentDidMount = () => {// get user data, settings etc from server,\n      // get user transaction data from the server\n      // this.getTransactionData();\n      // setInterval(() => {\n      //     this.getTransactionData();\n      // }, 10000);\n    };\n\n    this.getTransactionData = () => {\n      let token = sessionStorage.getItem('jwt');\n      fetch('/dashboard', {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          'Authorization': \"Bearer \".concat(token)\n        }\n      }).then(response => {\n        return response.json();\n      }).then(parsedJson => {\n        console.log(parsedJson);\n        this.setUserData(parsedJson); // this.setTransactionData(parsedJson.transactions);\n      });\n    };\n\n    this.setUserData = userData => {\n      this.props.updateUserData(userData); // this.setState({username: userData.username});\n    };\n  }\n\n  // setTransactionData = (transactionData) => {\n  //     this.setState({transactions: transactionData});\n  // };\n  render() {\n    return React.createElement(UserConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"main-app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(SideBar, {\n      username: context.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main-app-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(MainAppContent, {\n      default: this.props.default,\n      transactions: [...context.transactions],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default MainAppContainer;","map":{"version":3,"sources":["/home/clinnygee/Documents/portfolio-projects/expense-tracker/client/src/Components/App/MainAppContainer.js"],"names":["React","Component","SideBar","MainAppContent","UserConsumer","MainAppContainer","state","username","transactions","componentDidMount","getTransactionData","token","sessionStorage","getItem","fetch","method","headers","then","response","json","parsedJson","console","log","setUserData","userData","props","updateUserData","render","context","default"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAO,wBAAP;AACA,SAAQC,YAAR,QAA2B,oBAA3B;;AAGA,MAAMC,gBAAN,SAA+BJ,SAA/B,CAAyC;AAAA;AAAA;AAAA,SAErCK,KAFqC,GAE7B;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,YAAY,EAAE;AAFV,KAF6B;;AAAA,SAOrCC,iBAPqC,GAOhB,MAAM,CACvB;AACA;AAEA;AAEA;AACA;AACA;AAEH,KAjBoC;;AAAA,SAqCrCC,kBArCqC,GAqChB,MAAM;AACvB,UAAIC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAZ;AAEAC,MAAAA,KAAK,CAAC,YAAD,EAAe;AAChBC,QAAAA,MAAM,EAAE,KADQ;AAEhBC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,4CAA2BL,KAA3B;AAFK;AAFO,OAAf,CAAL,CAMGM,IANH,CAMQC,QAAQ,IAAI;AAChB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OARD,EAQGF,IARH,CAQQG,UAAU,IAAI;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACA,aAAKG,WAAL,CAAiBH,UAAjB,EAFkB,CAGlB;AACH,OAZD;AAaH,KArDoC;;AAAA,SAuDrCG,WAvDqC,GAuDtBC,QAAD,IAAc;AACxB,WAAKC,KAAL,CAAWC,cAAX,CAA0BF,QAA1B,EADwB,CAExB;AACH,KA1DoC;AAAA;;AA4DrC;AACA;AACA;AAEAG,EAAAA,MAAM,GAAG;AAGL,WACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,OAAO,IACJ;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKI,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAEA,OAAO,CAACrB,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,OAAO,EAAE,KAAKkB,KAAL,CAAWI,OAApC;AAA6C,MAAA,YAAY,EAAE,CAAC,GAAGD,OAAO,CAACpB,YAAZ,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CANJ,CAFR,CADJ;AAmBH;;AAtFoC;;AAyFzC,eAAeH,gBAAf","sourcesContent":["import React, { Component } from 'react';\nimport SideBar from './Navigation/sidebar';\nimport MainAppContent from './MainAppContent/MainAppContent';\nimport './mainappcontainer.css';\nimport {UserConsumer} from '../../user-context';\n\n\nclass MainAppContainer extends Component {\n\n    state = {\n        username: '',\n        transactions: null,\n    }\n\n    componentDidMount =  () => {\n        // get user data, settings etc from server,\n        // get user transaction data from the server\n\n        // this.getTransactionData();\n\n        // setInterval(() => {\n        //     this.getTransactionData();\n        // }, 10000);\n\n    };\n\n    // getTransactionData = async () => {\n\n    //     let token = sessionStorage.getItem('jwt');\n\n    //     let response = await fetch('/dashboard', {\n    //         method: 'GET',\n    //         headers: {\n    //             'content-type': 'application/json',\n    //             'Authorization': `Bearer ${token}`,\n    //         }\n    //     });\n\n    //     response = await response.json();\n\n        \n    //     return response;\n    // }\n\n    getTransactionData = () => {\n        let token = sessionStorage.getItem('jwt');\n\n        fetch('/dashboard', {\n            method: 'GET',\n            headers: {\n                'content-type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            }\n        }).then(response => {\n            return response.json();\n        }).then(parsedJson => {\n            console.log(parsedJson);\n            this.setUserData(parsedJson);\n            // this.setTransactionData(parsedJson.transactions);\n        })\n    };\n\n    setUserData = (userData) => {\n        this.props.updateUserData(userData);\n        // this.setState({username: userData.username});\n    };\n\n    // setTransactionData = (transactionData) => {\n    //     this.setState({transactions: transactionData});\n    // };\n\n    render() {\n\n        \n        return (\n            <UserConsumer >\n                {context => (\n                    <div className='main-app'>\n                        {/* <SideBar username={this.state.username}/>\n                        <div className='main-app-container'>\n                            <MainAppContent default={this.props.default}  transactions={this.state.transactions}/>\n                        </div> */}\n                        <SideBar username={context.username}/>\n                        <div className='main-app-container'>\n                            <MainAppContent default={this.props.default} transactions={[...context.transactions]}/>\n                        </div>\n                    </div>\n                )}\n            </UserConsumer>\n            \n\n            \n        );\n    }\n}\n\nexport default MainAppContainer;"]},"metadata":{},"sourceType":"module"}