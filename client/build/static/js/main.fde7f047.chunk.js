(window["webpackJsonpexpense-tracker"]=window["webpackJsonpexpense-tracker"]||[]).push([[0],{100:function(e,t,a){},105:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(58),c=a.n(r),s=a(2),l=a(3),i=a(5),m=a(4),u=a(6),p=(a(44),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={Username:"",Password:""},a.onFieldChange=function(e){"Username"===e.target.placeholder?a.setState({Username:e.target.value}):a.setState({Password:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault(),console.log(a.state),a.props.handleLogInForm({username:a.state.Username,password:a.state.Password})},a.authenticateUser=function(e){return fetch("/login",{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","content-type":"application/json"}}).then(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"form-container"},o.a.createElement("div",{className:"form-container-header"},o.a.createElement("p",null,"Log In")),o.a.createElement("form",{className:"form-container-form"},o.a.createElement("input",{onChange:this.onFieldChange,className:"form-container-form-text",type:"username",placeholder:"Username",required:!0}),o.a.createElement("input",{onChange:this.onFieldChange,className:"form-container-form-text",type:"password",placeholder:"Password",required:!0}),o.a.createElement("input",{onClick:this.handleFormSubmit,className:"form-container-form-button",type:"submit",value:"LOG IN"})),o.a.createElement("div",{className:"form-container-toggle"},o.a.createElement("p",null,"Dont have an account?"),o.a.createElement("p",{className:"link",onClick:this.props.onFormToggle},"Sign Up!")))}}]),t}(n.Component)),d=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={Username:"",Password:"",Confirm:""},a.handleSubmit=function(e){e.preventDefault(),a.props.handleSignUpForm({username:a.state.Username,password:a.state.Password})},a.registerUser=function(e){return fetch("/register",{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return console.log(e)})},a.onFieldChange=function(e){console.log(e.target.placeholder),"Username"===e.target.placeholder?a.setState({Username:e.target.value}):"Password"===e.target.placeholder?a.setState({Password:e.target.value}):a.setState({Confirm:e.target.value})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props),o.a.createElement("div",{className:"form-container"},o.a.createElement("div",{className:"form-container-header"},o.a.createElement("p",null,"Sign Up")),o.a.createElement("form",{className:"form-container-form"},o.a.createElement("input",{onChange:this.onFieldChange,className:"form-container-form-text",type:"username",placeholder:"Username",required:!0}),o.a.createElement("input",{onChange:this.onFieldChange,className:"form-container-form-text",type:"password",placeholder:"Password",required:!0}),o.a.createElement("input",{onChange:this.onFieldChange,className:"form-container-form-text",type:"password",placeholder:"Confirm Password",required:!0}),o.a.createElement("input",{onClick:this.handleSubmit,className:"form-container-form-button",type:"submit",value:"SIGN UP"})),o.a.createElement("div",{className:"form-container-toggle"},o.a.createElement("p",null,"Already have an account?"),o.a.createElement("p",{className:"link",onClick:this.props.onFormToggle},"Sign in!")))}}]),t}(n.Component),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleFormToggle=function(e){a.setState({signIn:!a.state.signIn})},a.state={signIn:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props),this.state.signIn?o.a.createElement("div",{className:"toggleable-form"},o.a.createElement(p,{onFormToggle:this.handleFormToggle,handleLogInForm:this.props.handleLogInForm,logInSuccess:this.props.logInSuccess})):o.a.createElement("div",{className:"toggleable-form"},o.a.createElement(d,{onFormToggle:this.handleFormToggle,handleSignUpForm:this.props.handleSignUpForm}))}}]),t}(n.Component),g=a(65),f=a(21),E=a.n(f),b=a(29),y=(a(72),a(39)),v=a.n(y),N=a(59),j=a.n(N),S=a(8),O=a(7),C=a(16),w=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"sidebar-nav-links-scrollable"},o.a.createElement(C.b,{to:"/dashboard"},o.a.createElement("div",{className:"sidebar-nav-links-scrollable-link"},o.a.createElement("div",null,o.a.createElement(S.a,{icon:O.f})),o.a.createElement("div",null,"Dashboard"))),o.a.createElement(C.b,{to:"/charts"},o.a.createElement("div",{className:"sidebar-nav-links-scrollable-link"},o.a.createElement("div",null,o.a.createElement(S.a,{icon:O.d})),o.a.createElement("div",null,"Charts"))),o.a.createElement("div",{className:"sidebar-nav-links-scrollable-link"},o.a.createElement("div",null,o.a.createElement(S.a,{icon:O.a})),o.a.createElement("div",null,"Categories")),o.a.createElement("div",{className:"sidebar-nav-links-scrollable-link"},o.a.createElement("div",null,o.a.createElement(S.a,{icon:O.b})),o.a.createElement("div",null,"Notifications")),o.a.createElement("div",{className:"sidebar-nav-links-scrollable-link"},o.a.createElement("div",null,o.a.createElement(S.a,{icon:O.e})),o.a.createElement("div",null,"Settings")),o.a.createElement("div",{className:"sidebar-nav-links-scrollable-link",onClick:this.props.signOut},o.a.createElement("div",null,o.a.createElement(S.a,{icon:O.q})),o.a.createElement("div",null,"Logout")))}}]),t}(n.Component),k=Object(n.createContext)({username:"",transactions:[],_id:"",imageHex:"",authenticated:!1,jwt:"",updateUserData:function(){},logInSuccess:function(){},signOut:function(){},setJwt:function(){},getUserData:function(){},requestUpdate:function(){},selectedMonth:"",selectedYear:"",updateSelectedMonth:function(){},updateSelectedYear:function(){}}),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).updateUserData=function(e){console.log(e),e.transactions.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),console.log(e.transactions),a.setState({username:e.username,transactions:e.transactions,_id:e._id,imageHex:e.settings.img.data.data})},a.logInSuccess=function(){console.log("in context loginsuccess"),a.setState({authenticated:!0}),a.getUserData()},a.setJwt=function(e){console.log("in context setjwt"),a.setState({jwt:e})},a.signOut=function(){a.setState({authenticated:!1}),sessionStorage.removeItem("jwt")},a.getUserData=function(){var e=sessionStorage.getItem("jwt");fetch("/dashboard",{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){console.log(e),a.updateUserData(e)})},a.requestUpdate=function(){console.log("update requested"),a.getUserData()},a.updateSelectedMonth=function(e){console.log("in updateSelectedMonth, month: "+a.state.selectedMonth),a.setState({selectedMonth:e})},a.updateSelectedYear=function(e){console.log("in updateSelected year, year: "+a.state.selectedYear),a.setState({selectedYear:e})},a.state={username:"",transactions:[],_id:"",imageHex:null,selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear(),updateUserData:a.updateUserData,logInSuccess:a.logInSuccess,setJwt:a.setJwt,signOut:a.signOut,getUserData:a.getUserData,requestUpdate:a.requestUpdate,updateSelectedMonth:a.updateSelectedMonth,updateSelectedYear:a.updateSelectedYear},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(k.Provider,{value:this.state},this.props.children)}}]),t}(o.a.Component),x=k.Consumer,I=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"sidebar-nav"},o.a.createElement("div",{className:"sidebar-nav-head"},o.a.createElement(x,null,function(e){return o.a.createElement(T,{requestUpdate:e.requestUpdate,imageHex:e.imageHex})}),o.a.createElement("div",{className:"sidebar-nav-header-username"},o.a.createElement("p",null,this.props.username)),o.a.createElement("div",{className:"sidebar-nav-header-settings"},o.a.createElement("i",{className:"fas fa-camera"}))),o.a.createElement("div",{className:"sidebar-nav-links"},o.a.createElement(x,null,function(e){return o.a.createElement(w,{signOut:e.signOut})})))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={upload:!1,fileURL:null,file:null},a.toggleOpenForm=function(){console.log("open the fucking modal"),a.setState({upload:!a.state.upload})},a.handleFileChange=function(e){a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.onFileSubmit=function(){var e=Object(b.a)(E.a.mark(function e(t){var n,o,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=sessionStorage.getItem("jwt"),console.log(a.state.file),(o=new FormData).append("profile-image",a.state.file),e.next=7,fetch("/user/photo",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:o});case 7:200===(r=e.sent).status&&(a.setState({upload:!a.state.upload}),a.props.requestUpdate()),console.log(r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.upload?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"sidebar-nav-header-icon",onClick:this.toggleOpenForm},o.a.createElement("img",{src:null!=this.props.imageHex?D(this.props.imageHex):{ThumbnailPicture:v.a},alt:"user-icon",onClick:this.toggleOpenForm})),o.a.createElement("div",{className:"modal-photo-upload"},o.a.createElement("div",{className:"modal-photo-upload-content"},o.a.createElement("div",{className:"modal-photo-upload-close"},o.a.createElement("button",{className:"close",onClick:this.toggleOpenForm},"X")),o.a.createElement("div",{className:"modal-photo-upload-form-container"},o.a.createElement("form",{className:"modal-photo-upload-form"},o.a.createElement("div",{className:"modal-photo-upload-preview"},o.a.createElement("img",{src:this.state.fileURL?this.state.fileURL:j.a,alt:"upload preview"})),o.a.createElement("input",{type:"file",onChange:this.handleFileChange}),o.a.createElement("input",{type:"submit",value:"Upload",className:"btn btn-primary btn-lg",onClick:this.onFileSubmit})))))):o.a.createElement("div",{className:"sidebar-nav-header-icon",onClick:this.toggleOpenForm},o.a.createElement("img",{src:null!=this.props.imageHex?D(this.props.imageHex):{ThumbnailPicture:v.a},alt:"user-icon",onClick:this.toggleOpenForm}))}}]),t}(n.Component),D=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach(function(e){return t+=String.fromCharCode(e)}),"data:image/jpeg;base64,"+window.btoa(t)},M=I,F=a(19),A=(a(79),a(80),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).setTotalIncomeAndExpense=function(e){var t=0,n=0;return e&&a.props.transactions.forEach(function(e){"income"===e.type?n+=e.amount:t+=e.amount}),console.log(t+" "+n),{totalIncome:n,totalExpense:t}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.setTotalIncomeAndExpense(this.props.transactions);return console.log(this.props),o.a.createElement("div",{className:"summary"},o.a.createElement("div",{className:"summary-container"},o.a.createElement("div",{className:"summary-container-totals"},o.a.createElement("div",null,o.a.createElement("p",{className:"summary-container-totals-word"},"Income"),o.a.createElement("p",{className:"summary-container-totals-number"},e.totalIncome))),o.a.createElement("div",{className:"summary-container-totals"},o.a.createElement("div",null,o.a.createElement("p",{className:"summary-container-totals-word"},"Expenses"),o.a.createElement("p",{className:"summary-container-totals-number"},e.totalExpense))),o.a.createElement("div",{className:"summary-container-totals"},o.a.createElement("div",null,o.a.createElement("p",{className:"summary-container-totals-word"},"Balance"),o.a.createElement("p",{className:"summary-container-totals-number"},e.totalIncome-e.totalExpense)))))}}]),t}(n.Component)),Y=(a(81),function(){return o.a.createElement("div",{className:"create-icon"},o.a.createElement(S.a,{icon:O.p}))}),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},a.getTransactionIcon=function(e,t){return"expense"===e?J.filter(function(e){return e.category===t})[0].icon:L.filter(function(e){return e.category===t})[0].icon},a.toggleExpand=function(){a.setState({open:!a.state.open})},a.handleDeleteTransaction=function(){a.props.onDeleteTransaction(a.props.id)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={color:"expense"===this.props.type?"#eb5960":"#6ee05a"},t=new Date(this.props.date).toUTCString().split(" ").slice(0,3).join(" ");return this.state.open?o.a.createElement("div",{className:"dashboard-scrollable-item open",onClick:this.toggleExpand},o.a.createElement("div",{className:"dashboard-scrollable-item-topbar"},o.a.createElement("div",{className:"dashboard-scrollable-item-date"},o.a.createElement("p",null,t)),o.a.createElement("div",{className:"dashboard-scrollable-item-type"},o.a.createElement("p",null,this.props.type,": ",this.props.amount))),o.a.createElement("div",{className:"dashboard-scrollable-item-bottom"},o.a.createElement("div",{className:"dashboard-scrollable-item-bottom-icon",style:e},o.a.createElement(S.a,{icon:"".concat(this.getTransactionIcon(this.props.type,this.props.category))})),o.a.createElement("div",{className:"dashboard-scrollable-item-bottom-category"},o.a.createElement("p",null,this.props.category,": ",this.props.description)),o.a.createElement("div",{className:"dashboard-scrollable-item-bottom-amount"},o.a.createElement("p",null,"expense"===this.props.type?"-".concat(this.props.amount):this.props.amount))),o.a.createElement("div",{className:"dashboard-scrollable-item-open"},o.a.createElement("div",{className:"dashboard-scrollable-item-open-edit"},o.a.createElement(S.a,{icon:"edit"})),o.a.createElement("div",{className:"dashboard-scrollable-item-open-delete",onClick:this.handleDeleteTransaction},o.a.createElement(S.a,{icon:"trash-alt"})))):o.a.createElement("div",{className:"dashboard-scrollable-item",onClick:this.toggleExpand},o.a.createElement("div",{className:"dashboard-scrollable-item-topbar"},o.a.createElement("div",{className:"dashboard-scrollable-item-date"},o.a.createElement("p",null,t)),o.a.createElement("div",{className:"dashboard-scrollable-item-type"},o.a.createElement("p",null,this.props.type,": ",this.props.amount))),o.a.createElement("div",{className:"dashboard-scrollable-item-bottom"},o.a.createElement("div",{className:"dashboard-scrollable-item-bottom-icon",style:e},o.a.createElement(S.a,{icon:"".concat(this.getTransactionIcon(this.props.type,this.props.category))})),o.a.createElement("div",{className:"dashboard-scrollable-item-bottom-category"},o.a.createElement("p",null,this.props.category,": ",this.props.description)),o.a.createElement("div",{className:"dashboard-scrollable-item-bottom-amount"},o.a.createElement("p",null,"expense"===this.props.type?"-".concat(this.props.amount):this.props.amount))))}}]),t}(n.Component),J=[{icon:"utensils",category:"food"},{icon:"home",category:"rent"},{icon:"car",category:"car"},{icon:"gamepad",category:"entertainment"},{icon:"file-invoice-dollar",category:"bills"},{icon:"phone-square",category:"phone"},{icon:"network-wired",category:"internet"},{icon:"glass-cheers",category:"kick-ons"},{icon:"tv",category:"electronics"},{icon:"star",category:"subscriptions"}],L=[{icon:"wallet",category:"salary"},{icon:"chart-line",category:"dividends"},{icon:"gift",category:"gift"},{icon:"money-check-alt",category:"investment"},{icon:"undo",category:"refund"}],P=q,R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={totalIncome:"",totalExpenses:""},a.setTotalIncomeAndExpense=function(){var e=0,t=0;a.props.transactions&&a.props.transactions.forEach(function(a){"income"===a.type?t+=a.amount:e+=a.amount}),console.log(e+" "+t),a.setState({totalIncome:t,totalExpenses:e})},a.handleDeleteTransactions=function(){var e=Object(b.a)(E.a.mark(function e(t){var n,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify({transaction_id:t})),n=sessionStorage.getItem("jwt"),e.next=4,fetch("/transactions/delete",{method:"DELETE",body:JSON.stringify({transaction_id:t}),headers:{"content-type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:o=e.sent,console.log(o),200===o.status&&a.props.requestUpdate(),console.log("Delete transaction with Id of: "+t);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){},a.componentWillReceiveProps=function(){},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=null;return this.props.transactions&&(t=this.props.transactions.map(function(t){return o.a.createElement(P,{key:t._id,id:t._id,type:t.type,category:t.category,date:t.date,amount:t.amount,description:t.description,onDeleteTransaction:e.handleDeleteTransactions})})),console.log("In Dashboard, transactions : ".concat(this.props.transactions)),o.a.createElement("div",{className:"dashboard-container"},o.a.createElement(A,{transactions:this.props.transactions}),o.a.createElement("div",{className:"dashboard-scrollable-container"},t),o.a.createElement(C.b,{to:"/create"},o.a.createElement(Y,null)))}}]),t}(n.Component),B=a(64),H=(a(99),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={category:null},a.handleCategorySelect=function(e){console.log(e.target.innerText),a.setState({category:e.target.innerText})},a.getChartTransactions=function(){if(!a.state.category)return a.props.transactions;var e=a.state.category.toLowerCase();return a.props.transactions.filter(function(t){return t.type===e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.category?(this.getChartTransactions(),o.a.createElement("div",{className:"charts-container"},o.a.createElement(_,{onCategorySelect:this.handleCategorySelect}),o.a.createElement(z,{category:this.state.category,transactions:this.getChartTransactions()}))):o.a.createElement("div",{className:"charts-container"},o.a.createElement(_,{onCategorySelect:this.handleCategorySelect}))}}]),t}(n.Component)),_=function(e){return o.a.createElement("div",{className:"charts-categories"},o.a.createElement("div",{className:"charts-categories-item"},o.a.createElement("p",{onClick:e.onCategorySelect},"Income")),o.a.createElement("div",{className:"charts-categories-item"},o.a.createElement("p",{onClick:e.onCategorySelect},"Expense")),o.a.createElement("div",{className:"charts-categories-item"},o.a.createElement("p",{onClick:e.onCategorySelect},"Both")))},z=function(e){var t=function(){var t,n=[],o=0;return e.transactions.forEach(function(e){t=!1;for(var a=0;a<n.length;a++)if(n[a].category===e.category){n[a].amount+=e.amount,o+=e.amount,t=!0;break}t||(n.push({category:e.category,amount:e.amount}),o+=e.amount)}),n.forEach(function(e){return console.log(e)}),console.log(n+""+o),{data:n=n.map(function(e){return{angle:e.amount/o,label:e.category,color:a()}}),sum:o}},a=function(){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],t=["#"],a=0;a<6;a++)t.push(e[n(0,16)]);return t.join("")},n=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)};if(t(),e.category){var r=t();console.log(r.data);var c=r.data.map(function(e){return o.a.createElement(G,{color:e.color,label:e.label,percent:Math.round(100*e.angle*10)/10})});return o.a.createElement("div",{className:"charts-display-container"},o.a.createElement("div",{className:"charts-display-header"},o.a.createElement("p",null,"Monthly ",e.category," Summary"),o.a.createElement("p",null,"Total ",e.category,": $",r.sum)),o.a.createElement("div",{className:"charts-display-information"},c),o.a.createElement(B.a,{data:r.data,width:300,height:300,showLabels:!0,colorType:"literal",animation:!0}))}return null},G=function(e){var t,a={backgroundColor:e.color};return o.a.createElement("div",{className:"charts-display-information-item"},o.a.createElement("div",{className:"charts-display-information-item-color",style:a}),o.a.createElement("p",null,"string"!==typeof(t=e.label)?"":t.charAt(0).toUpperCase()+t.slice(1),", ",e.percent,"%"))},W=H,$=(a(100),a(51),function(e){return o.a.createElement("div",{className:"calender-toggler",onClick:e.openMonthSelector},o.a.createElement("div",{className:"calender-toggler-items"},o.a.createElement("div",{className:"calender-toggler-date"},e.month,". ",e.year),o.a.createElement("div",null,o.a.createElement(S.a,{icon:e.open?"sort-up":"sort-down"}))))}),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={selectedYear:a.props.year},a.decrementYear=function(){a.setState({selectedYear:a.state.selectedYear-1})},a.incrementYear=function(){a.setState({selectedYear:a.state.selectedYear+1})},a.handleMonthSelect=function(e){a.props.onSelectMonthAndYear(e,a.state.selectedYear)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=V.map(function(t){return o.a.createElement(K,{month:t.month,monthName:t.monthName,onMonthSelect:e.handleMonthSelect})});return o.a.createElement("div",{className:"calender-month-selector"},o.a.createElement("div",{className:"calender-month-selector-months"},o.a.createElement(Q,{year:this.state.selectedYear,incrementYear:this.incrementYear,decrementYear:this.decrementYear}),t))}}]),t}(o.a.Component),K=function(e){return o.a.createElement("div",{onClick:function(){console.log(e),e.onMonthSelect(e.month)}},e.monthName)},Q=function(e){return o.a.createElement("div",{className:"calender-month-selector-year"},o.a.createElement("div",{onClick:e.decrementYear},"<"),o.a.createElement("div",null,e.year),o.a.createElement("div",{onClick:e.incrementYear},">"))},V=[{month:0,monthName:"Jan"},{month:1,monthName:"Feb"},{month:2,monthName:"Mar"},{month:3,monthName:"Apr"},{month:4,monthName:"May"},{month:5,monthName:"Jun"},{month:6,monthName:"Jul"},{month:7,monthName:"Aug"},{month:8,monthName:"Sep"},{month:9,monthName:"Oct"},{month:10,monthName:"Nov"},{month:11,monthName:"Dec"}],Z=X,ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={selectedMonth:a.props.selectedMonth,selectedYear:a.props.selectedYear,open:!1},a.openMonthSelector=function(){a.setState({open:!a.state.open})},a.handleSelectMonthAndYear=function(e,t){a.setState({open:!a.state.open}),a.props.updateContextMonth(e),a.props.updateContextYear(t)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.open?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"calender-container-open"},o.a.createElement($,{openMonthSelector:this.openMonthSelector,open:this.state.open,month:te[this.props.selectedMonth],year:this.props.selectedYear}),o.a.createElement(Z,{year:this.state.selectedYear,onSelectMonthAndYear:this.handleSelectMonthAndYear}))):o.a.createElement("div",{className:"calender-container"},o.a.createElement($,{openMonthSelector:this.openMonthSelector,open:this.state.open,month:te[this.props.selectedMonth],year:this.props.selectedYear}))}}]),t}(n.Component),te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ae=ee,ne=(a(105),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"create-toggle-container"},o.a.createElement("div",{className:"create-toggle-container-expense ".concat("expense"===this.props.activeType?"toggle-active":""),onClick:"income"===this.props.activeType?this.props.onToggle:null},o.a.createElement("p",null,"Expense")),o.a.createElement("div",{className:"create-toggle-container-income ".concat("income"===this.props.activeType?"toggle-active":""),onClick:"expense"===this.props.activeType?this.props.onToggle:null},o.a.createElement("p",null,"Income")))}}]),t}(n.Component)),oe=function(e){return o.a.createElement("div",{className:"create-submit-icon",onClick:function(){e.onCategorySelect(e.category)}},o.a.createElement(S.a,{icon:"".concat(e.icon)}),o.a.createElement("p",null,e.category))},re=function(e){console.log(e.icons);var t=e.icons.map(function(t){return o.a.createElement(oe,{icon:t.icon,category:t.category,onCategorySelect:e.onCategorySelect})});return o.a.createElement("div",{className:"create-submit-icon-container"},t)},ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"create-submit-container"},o.a.createElement(re,{display:this.props.type||null,onCategorySelect:this.props.onCategorySelect,icons:this.props.icons}))}}]),t}(n.Component),se=a(63),le=a.n(se),ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={amount:"",description:""},a.onAmountChange=function(e){console.log(e.target.value),a.setState({amount:e.target.value})},a.onDescriptionChange=function(e){a.setState({description:e.target.value})},a.handleSubmit=function(){a.props.onSubmit(a.state.amount,a.state.description)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.display?o.a.createElement("div",{className:"create-submit-form"},o.a.createElement("div",{className:"create-submit-form-calendar"},o.a.createElement(le.a,{onChange:this.props.onDateSelect,date:this.props.date})),o.a.createElement("div",{className:"create-submit-form-form"},o.a.createElement("form",null,o.a.createElement("div",{className:"create-submit-form-form-icon"},o.a.createElement(S.a,{icon:"".concat(this.props.icon.icon)}),o.a.createElement("p",null,this.props.icon.category)),o.a.createElement("div",{className:"create-submit-form-form-amount"},o.a.createElement("label",{for:"amount"},"Amount"),o.a.createElement("input",{name:"amount",required:!0,type:"number",onChange:this.onAmountChange})),o.a.createElement("div",{className:"create-submit-form-form-description"},o.a.createElement("label",{for:"description"},"Description"),o.a.createElement("input",{name:"description",onChange:this.onDescriptionChange})),o.a.createElement("div",{className:"create-submit-form-form-submit"},o.a.createElement("button",{type:"button",class:"btn btn-primary btn-lg",onClick:this.handleSubmit},"Add"))))):o.a.createElement("div",null)}}]),t}(n.Component),me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={category:null,type:"expense",date:new Date,description:null,amount:null,redirect:!1},a.handleTypeToggle=function(){"expense"===a.state.type?a.setState({type:"income",category:null}):a.setState({type:"expense",category:null})},a.handleDateSelect=function(e){return a.setState({date:e})},a.handleCategorySelect=function(e){console.log(e),a.setState({category:e})},a.getSubmitFormIcon=function(){return"expense"===a.state.type?pe.filter(function(e){return console.log("expense categoory: "+e.category+" state category: "+a.state.category),e.category===a.state.category})[0]:ue.filter(function(e){return e.category===a.state.category})[0]},a.handleCreateSubmit=function(e,t){console.log(e+""+t),console.log(a.state),a.setState({amount:e,description:t}),a.submitTransaction({category:a.state.category,type:a.state.type,date:a.state.date,amount:e,description:t})},a.submitTransaction=function(e){var t=sessionStorage.getItem("jwt");return fetch("/create",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){console.log(e),200===e.status&&(a.props.requestUpdate(),a.setState({redirect:!0}))})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.redirect?o.a.createElement(F.a,{to:"/dashboard"}):o.a.createElement("div",{className:"create-container"},o.a.createElement(ne,{activeType:this.state.type,onToggle:this.handleTypeToggle}),o.a.createElement(ce,{type:this.state.type,onCategorySelect:this.handleCategorySelect,icons:"expense"===this.state.type?pe:ue}),o.a.createElement(ie,{onDateSelect:this.handleDateSelect,date:this.state.date,display:this.state.category,icon:this.getSubmitFormIcon(),onSubmit:this.handleCreateSubmit}))}}]),t}(n.Component),ue=[{icon:"wallet",category:"salary"},{icon:"chart-line",category:"dividends"},{icon:"gift",category:"gift"},{icon:"money-check-alt",category:"investment"},{icon:"undo",category:"refund"}],pe=[{icon:"utensils",category:"food"},{icon:"home",category:"rent"},{icon:"car",category:"car"},{icon:"gamepad",category:"entertainment"},{icon:"file-invoice-dollar",category:"bills"},{icon:"phone-square",category:"phone"},{icon:"network-wired",category:"internet"},{icon:"glass-cheers",category:"kick-ons"},{icon:"tv",category:"electronics"},{icon:"star",category:"subscriptions"}],de=me,he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).filterTransactionsByMonth=function(e,t,a){return console.log(a),a.filter(function(a){var n=new Date(a.date);return n.getMonth()===e&&n.getFullYear()===t})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"main-app-content"},o.a.createElement(x,null,function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae,{selectedMonth:t.selectedMonth,selectedYear:t.selectedYear,updateContextMonth:t.updateSelectedMonth,updateContextYear:t.updateSelectedYear}),o.a.createElement(F.d,null,o.a.createElement(F.b,{exact:!0,path:"/dashboard",render:function(){return o.a.createElement(R,{transactions:e.filterTransactionsByMonth(t.selectedMonth,t.selectedYear,t.transactions),requestUpdate:t.requestUpdate})}}),o.a.createElement(F.b,{path:"/charts",render:function(){return o.a.createElement(W,{transactions:e.filterTransactionsByMonth(t.selectedMonth,t.selectedYear,t.transactions)})}}),o.a.createElement(F.b,{path:"/create",render:function(){return o.a.createElement(de,{requestUpdate:t.requestUpdate})}})))}))}}]),t}(n.Component),ge=(a(123),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",transactions:null},a.componentDidMount=function(){},a.getTransactionData=function(){var e=sessionStorage.getItem("jwt");fetch("/dashboard",{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setUserData(e)})},a.setUserData=function(e){a.props.updateUserData(e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(x,null,function(t){return o.a.createElement("div",{className:"main-app"},o.a.createElement(M,{username:t.username}),o.a.createElement("div",{className:"main-app-container"},o.a.createElement(he,{default:e.props.default,transactions:Object(g.a)(t.transactions)})))})}}]),t}(n.Component)),fe=(a(124),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={logIn:!1,loggedIn:!1,token:null},a.handleSignUpForm=function(e){return console.log(e),fetch("/register",{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return console.log(e)})},a.handleLogInForm=function(e){return fetch("/login",{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","content-type":"application/json"}}).then(function(e){200===e.status?e.json().then(function(e){a.handleLogInResponse(e),a.props.logInSuccess()}):console.log("No Token Authorized")})},a.handleLogInResponse=function(e){sessionStorage.setItem("jwt",e.token),a.props.setJwt(e.token)},a.authenticateUser=function(){var e=sessionStorage.getItem("jwt");fetch("/checkToken",{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(t){200===t.status&&(a.props.setJwt(e),a.props.logInSuccess())})},a.handleRegisterPageRequest=function(){a.setState({logIn:!0})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.authenticateUser()}},{key:"render",value:function(){var e=this;return console.log(this.props),this.props.authenticated?o.a.createElement("div",{className:"app"},o.a.createElement(x,null,function(e){return o.a.createElement(ge,{default:"/dashboard",updateUserData:e.updateUserData})})):this.state.logIn?o.a.createElement("div",{className:"app"},o.a.createElement(x,null,function(t){return o.a.createElement(h,{handleSignUpForm:e.handleSignUpForm,handleLogInForm:e.handleLogInForm,logInSuccess:t.logInSuccess})})):o.a.createElement("div",{className:"app"},o.a.createElement(Ee,{onRegisterPageRequest:this.handleRegisterPageRequest}))}}]),t}(n.Component)),Ee=function(e){return o.a.createElement("div",{className:"landing-container"},o.a.createElement("div",{className:"landing-content"},o.a.createElement("div",{className:"landing-header"},o.a.createElement("p",{className:"landing-header-title"},"Budget Tracker")),o.a.createElement("div",{className:"landing-navigation"},o.a.createElement("div",{className:"landing-navigation-register",onClick:e.onRegisterPageRequest},o.a.createElement("p",null,"Log In / Register")),o.a.createElement("div",{className:"landing-navigation-about"},o.a.createElement("p",null,"About")))))},be=fe;a(24).b.add(O.x,O.l,O.c,O.i,O.h,O.o,O.n,O.k,O.v,O.t,O.y,O.d,O.j,O.w,O.m,O.g,O.u,O.r,O.s);var ye=function(){return o.a.createElement("div",null,o.a.createElement(C.a,null,o.a.createElement(U,null,o.a.createElement(x,null,function(e){return o.a.createElement(be,{setJwt:e.setJwt,logInSuccess:e.logInSuccess,authenticated:e.authenticated})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,a){e.exports=a.p+"static/media/default-icon.cc6584da.jpeg"},44:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/no-image.9cc9fe93.jpeg"},66:function(e,t,a){e.exports=a(125)},72:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},99:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.fde7f047.chunk.js.map